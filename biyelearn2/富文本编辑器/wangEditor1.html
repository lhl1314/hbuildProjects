<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.min.css" />
		<link rel="stylesheet" type="text/css" href="wangEditor-3.1.1/release/wangEditor.min.css" />
		<script type="text/javascript" src="../bootstrap-3.3.7-dist/js/jquery-3.3.1.min.js"></script>
		<script type="text/javascript" src="../bootstrap-3.3.7-dist/js/bootstrap.js"></script>
		<style>
			.w-e-text-container {
				height: 350px !important;
				/*!important是重点，因为原div是行内样式设置的高度300px*/
			}
			/*p img{
				height: 50px;
				width: 50px;
				margin-left: 10px;
			}*/
			#editor_bottom{
				width: 798px;margin: 0px auto;
				height: 40px;
			background-color:#f1f1f1; border:1px solid #ccc;
			line-height: 40px;
			text-align: right;
			}
		</style>
	</head>

	<body>
		<div id="editor" style="width: 800px;margin: 0px auto;">

		</div>
		<div id="editor_bottom">
			作者：<input type="text" /> <input type="button" value="录入系统" />
		</div>
		<hr />
		<p align="center">
					<button id='getEditor'>获取富文本编辑器内的内容</button>
		<button id="clearEditor">清空编辑器的内容</button>
		<button id="getGson">获取json内容</button>
		</p>
		<!-- 注意， 只需要引用 JS，无需引用任何 CSS ！！！-->
		<script type="text/javascript" src="wangEditor-3.1.1/release/wangEditor.js"></script>
		<script type="text/javascript">
			var E = window.wangEditor
			var editor = new E('#editor')
			// 自定义菜单配置
			/***
			 * 不需要的可以删除
			 */
//			editor.customConfig.menus = [
//				'head',
//				'bold',
//				'italic',
//				'underline',
//				'strikeThrough', // 删除线
//				'foreColor', // 文字颜色
//				'backColor', // 背景颜色
//				'link', // 插入链接
//				'list', // 列表
//				'justify', // 对齐方式
//				'quote', // 引用
//				'emoticon', // 表情
//				'image', // 插入图片
//				'table', // 表格
//				//				'video', // 插入视频
//				//				'code', // 插入代码
//				'undo', // 撤销
//				'redo' // 重复
//			]

//			editor.customConfig.showLinkImg = false // 隐藏“网络图片”tab
			editor.customConfig.uploadImgShowBase64 = true; //开启本地图片上传
			editor.customConfig.uploadImgMaxSize = 3 * 1024 * 1024
			editor.customConfig.uploadImgMaxLength = 5
			editor.create();

			/***
			 * 清空已选
			 */
			$("#clearEditor").click(function() {
				editor.txt.clear();
			});
			/**
			 * 获取富文本内容
			 */
			document.getElementById('getEditor').addEventListener('click', function() {
				// 读取 html
				alert(editor.txt.html())
				alert(editor.id)
			}, false);
			
			/**
			 * 获取json数据，例如我要获取文章的标题
			 */
			document.getElementById('getGson').addEventListener('click', function() {
				var json = editor.txt.getJSON() // 获取 JSON 格式的内容
//				var jsonStr = JSON.stringify(json)
//				console.log(json)
//				console.log(jsonStr)
				alert(json[0].children[0])
			});
		</script>
	</body>

</html>